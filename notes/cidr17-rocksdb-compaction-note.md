核心目标 resource efficiency 资源利用率
 
 最小化空间放大
 
 节点越多，每个节点的查询比率越少，读取和写入之间的比率比较低。
 
如果 SSD 能存储两倍的数据，预计存储节点的效率会翻倍，IOPS 翻倍，可以用更少节点。

不可能同时减少空间，读，写放大。

lsm-tree 低写放大，低空间放大。

空间放大
如果每一层都是其下一层的 1/10 那么在最坏的情况下， lsm-tree 的空间放大为 1.111...% 

rocksdb 对空间放大的解决方案：

1. 动态调整层级总大小，比如将每一层的大小动态调整为下一层的数据大小的 1/10。由于存储在最后一层的数据大小不太可能是上一层大小的 10 倍。（在 lsm-tree 原论文中，对写放大进行优化时，证明那个在每一级之间的大小的商都相同时是最优解。对空间放大有待考证）
2. 压缩
	1. 前缀压缩
	2. 垃圾回收
	3. 数据压缩 zlib/snappy
	4. 字典压缩
	5. 分层压缩 
		* 0-2 低层不压缩
		* 3 轻量压缩 lz4 snappy
		* `>=`4  强压缩 zlib/zstandard
